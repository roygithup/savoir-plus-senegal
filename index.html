<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√©n√©gal Acad√©mie - Excellence en SVT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #10b981; --dark-bg: #0f172a; }
        body { background-color: var(--dark-bg); color: #f8fafc; font-family: 'Inter', system-ui, sans-serif; user-select: none; scroll-behavior: smooth; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-blur: 12px; border: 1px solid rgba(255, 255, 255, 0.1); }
        .btn-gradient { background: linear-gradient(135deg, #10b981 0%, #059669 100%); transition: all 0.3s; }
        .btn-gradient:hover { filter: brightness(1.1); transform: scale(1.02); }
        .hidden { display: none !important; }
        
        /* Styles pour les √©l√©ments verrouill√©s */
        .lock-indicator { 
            position: absolute; 
            top: 1rem; 
            right: 1rem; 
            color: #10b981; 
            background: rgba(16, 185, 129, 0.1);
            padding: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
            cursor: pointer;
        }
        
        .locked-action {
            position: relative;
            overflow: hidden;
            filter: grayscale(0.5);
            cursor: not-allowed;
        }

        .locked-action::after {
            content: "\f023";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
        }

        @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.7; } }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-in { animation: slideIn 0.6s ease-out forwards; }
        
        .error-shake { animation: shake 0.4s ease-in-out; border-color: #ef4444 !important; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
    </style>
</head>
<body oncontextmenu="return false;">

    <!-- NAVIGATION -->
    <nav class="glass sticky top-0 z-50 p-4 border-b border-slate-800">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
                <div class="w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center shadow-lg">
                    <i class="fas fa-book-open text-white text-sm"></i>
                </div>
                <h1 class="text-xl font-black tracking-tighter bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent">
                    S√âN√âGAL ACAD√âMIE
                </h1>
            </div>
            <div id="nav-info" class="hidden flex items-center gap-4">
                <span id="user-tag" class="text-xs font-bold px-3 py-1 bg-emerald-500/10 text-emerald-400 rounded-full border border-emerald-500/20"></span>
                <button onclick="location.reload()" class="text-slate-400 hover:text-white transition-colors">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
            <div id="nav-guest">
                <button onclick="showAuth()" class="text-emerald-400 font-bold text-sm border border-emerald-500/30 px-4 py-2 rounded-xl hover:bg-emerald-500/10 transition-all">
                    CONNEXION
                </button>
            </div>
        </div>
    </nav>

    <!-- ENT√äTE ACCUEIL -->
    <header id="header-welcome" class="max-w-7xl mx-auto px-6 pt-16 pb-8 text-center animate-in">
        <h2 class="text-4xl md:text-6xl font-black text-white mb-4 leading-tight">
            Votre R√©ussite commence <span class="text-emerald-500">Ici</span>
        </h2>
        <div class="text-slate-400 max-w-2xl mx-auto mb-8 space-y-4">
            <p>Acc√©dez facilement √† nos cours de SVT clairs et efficaces. Chaque chapitre indique ses objectifs pour aller droit √† l‚Äôessentiel.</p>
            <div class="flex justify-center gap-6 text-sm font-bold text-emerald-400">
                <span><i class="fas fa-video mr-2"></i>Vid√©os</span>
                <span><i class="fas fa-file-pdf mr-2"></i>Supports</span>
                <span><i class="fas fa-bolt mr-2"></i>R√©visions</span>
            </div>
            <p class="text-white">Abonnement mensuel : <strong class="text-emerald-500 text-xl">5.000 FCFA</strong> seulement.</p>
        </div>
    </header>

    <!-- CATALOGUE DES COURS -->
    <section id="catalogue-section" class="max-w-7xl mx-auto px-6 pb-20">
        <div id="courses-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Inject√© par JS -->
        </div>
    </section>

    <!-- MODAL DE CONNEXION / AUTH -->
    <div id="auth-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-md">
        <div class="bg-slate-900 border border-slate-700 w-full max-w-md rounded-3xl p-8 shadow-2xl relative animate-in">
            <button onclick="toggleModal('auth-modal', false)" class="absolute top-6 right-6 text-slate-500 hover:text-white">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-white mb-2">Acc√®s S√©curis√©</h3>
                <p class="text-slate-400 text-sm">Entrez votre code pour d√©verrouiller ce contenu</p>
            </div>

            <div class="space-y-4">
                <div class="relative">
                    <i class="fas fa-key absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"></i>
                    <input type="text" id="access-input" placeholder="VOTRE CODE" 
                        class="w-full bg-slate-950 border border-slate-800 rounded-2xl p-4 pl-12 text-center tracking-widest font-mono text-emerald-400 focus:ring-2 focus:ring-emerald-500 outline-none transition-all">
                </div>
                
                <button onclick="handleLogin()" class="w-full btn-gradient text-white font-bold py-4 rounded-2xl shadow-lg active:scale-95">
                    D√âVERROUILLER
                </button>

                <!-- Zone de message pour abonnement non pay√© -->
                <div id="unpaid-msg-box" class="hidden bg-amber-500/10 border border-amber-500/30 rounded-2xl p-5 text-center animate-in">
                    <p class="text-amber-400 font-bold text-lg mb-1" id="unpaid-user-name"></p>
                    <p class="text-white text-sm mb-3 font-semibold">Code valide ‚úÖ ‚Äî Abonnement non pay√© ‚ùå</p>
                    <p class="text-slate-300 text-xs leading-relaxed mb-4">
                        Envoyez un message WhatsApp pour payer 500 FCFA via Wave.<br>
                        Activation du code dans l‚Äôheure.
                    </p>
                    <button onclick="sendReactivationRequest()" class="w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2">
                        <i class="fab fa-whatsapp"></i> PAYER VIA WHATSAPP
                    </button>
                </div>

                <div id="auth-alerts" class="space-y-3">
                    <button id="unknown-code-btn" onclick="toggleModal('request-modal', true); toggleModal('auth-modal', false)" class="hidden w-full bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/30 font-bold py-4 rounded-2xl transition-all flex items-center justify-center gap-2">
                        <i class="fas fa-user-plus"></i> CODE INEXISTANT : DEMANDER
                    </button>
                </div>

                <button onclick="toggleModal('request-modal', true); toggleModal('auth-modal', false)" class="w-full py-2 text-slate-400 hover:text-white text-xs transition-colors underline">
                    Je n'ai pas encore de code d'acc√®s
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL DE DEMANDE D'ACC√àS -->
    <div id="request-modal" class="hidden fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-950/95 backdrop-blur-md">
        <div class="bg-slate-800 border border-slate-700 w-full max-w-md rounded-3xl p-8 shadow-2xl relative">
            <button onclick="toggleModal('request-modal', false)" class="absolute top-6 right-6 text-slate-500 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="text-xl font-bold mb-6 text-white">Demander un Code</h3>
            <div class="space-y-4">
                <input type="text" id="reg-prenom" placeholder="Pr√©nom" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 outline-none focus:border-emerald-500">
                <input type="text" id="reg-nom" placeholder="Nom" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 outline-none focus:border-emerald-500">
                <select id="reg-classe" class="w-full bg-slate-900 border border-slate-700 rounded-xl p-3 outline-none focus:border-emerald-500">
                    <option value="">S√©lectionnez votre classe</option>
                    <option>3√®me</option><option>Terminale</option>
                </select>
                <button onclick="submitRequest()" class="w-full btn-gradient py-4 rounded-xl font-bold flex items-center justify-center gap-2">
                    <i class="fab fa-whatsapp"></i> ENVOYER VIA WHATSAPP
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- BASE DE DONN√âES ---
        const BD_ELEVES = {
            "a045b0230536ab45355f499b9c71b9ff1e13cd7b06a03fd287fa67b056d1f7e1": { nom: "QW1hZG91IFNvdw==", classe: "Terminale", actif: 1 },
            "29611e5425bec3f5634af29b6abd1fe574c59a3e6c2c13557d0b73c1ac535665": { nom: "TW91c3NhIERpb3A=", classe: "3√®me", actif: 0 },
            "c0df92dfd732d810245c2aca11b4016b6a8145ab93eddf13bbe30a2a3427a88c": {nom: "QWxpb3UgU2Fycg==",classe: "Terminale", actif:0},
            "4d7c6402811134631a688a6a3744f538ed8db21f923eede67bb34698cfaecaae": {nom:  "UmFtYSBUaGlhbSA=",classe: "Terminale", actif:0},
            "df29ee7ce5e242233e6b2c23351a1241fd8564420e48b13889a985bff37bd49c": {nom:  "QXdhIE1BUg==",classe: "Terminale", actif:0},
            "f0514252e729aadcf0a396fa91ef40a2f1381881e3f3732693ced64e3652863b": {nom:  "TWFraHRhciBHQVlF",classe: "Terminale", actif:0}
        };

        const BD_COURS = [
             { 
                titre: "üß† Le√ß13 : (Partie 1/4)  LA PRESSION ARTERIELLE ET SA REGULATION",
                classe: "Terminale",
                icone: "fa-bolt",
                objectifs: [
                    "L‚Äôanatomie du c≈ìur : ses cavit√©s, ses valvules, sa paroi et la circulation coronaire.",
                    "La structure du tissu cardiaque observ√© au microscope optique et √©lectronique.",
                    "Comment le myocarde fonctionne et pourquoi il ob√©it √† la loi du tout ou rien",
                    "Les premi√®res cl√©s pour comprendre la pression art√©rielle et sa r√©gulation."
                ],
                urlVid: "aHR0cHM6Ly9lZHVjYXRpb25zbnRlc3QtbXkuc2hhcmVwb2ludC5jb20vOnY6L2cvcGVyc29uYWwvc2lyZV9kZW1lX2VkdWNhdGlvbl9zbi9JUUF4VEhuSTdweUtSN1VwVDZCRld5N2pBVVd2azZuZHc5RDlHN3hpXzhoS2QyZz9lPXNIUVNCUw==",
                urlPdf: "aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xRlgtQU84TWpYSmxZTGhYckhYc0xuVGxqOXFJaFdGZy0vdmlldz91c3A9ZHJpdmVfbGluaw=="
            },
             { 
                titre: "üß† Le√ß13 : (Partie 2/4)  LA PRESSION ARTERIELLE ET SA REGULATION (Pouls, Bruits)",
                classe: "Terminale",
                icone: "fa-bolt",
                objectifs: [
                    "Les manifestations directes : comment sentir les pulsations cardiaques et le pouls.",
                    "Les bruits du c≈ìur : √† quoi correspondent les fameux ¬´ toum ¬ª et ¬´ tac ¬ª entendus au st√©thoscope.",
                    "L‚Äôobservation indirecte : le principe de la cardiographie et l‚Äôanalyse d‚Äôun cardiogramme.",
                    "Le cycle cardiaque d√©taill√© : systole auriculaire, systole ventriculaire, diastole g√©n√©rale.",
                    "Pourquoi le c≈ìur se repose plus longtemps qu‚Äôil ne travaille (dur√©e des diastoles / systoles)."
                ],
                urlVid: "aHR0cHM6Ly9lZHVjYXRpb25zbnRlc3QtbXkuc2hhcmVwb2ludC5jb20vOnY6L2cvcGVyc29uYWwvc2lyZV9kZW1lX2VkdWNhdGlvbl9zbi9JUUFZeENxc0VVZUNRYnBUOWd0cEMzOUhBWkpGYnk2b2NQVlFVRzhtYl9UcVBNND9lPTJXQkRIcQ==",
                urlPdf: "aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xV0N3MzFGc0c2QjA5MXJJdFFXZjVYakUtUkg0d25Kai0vdmlldz91c3A9ZHJpdmVfbGluaw=="
            },
            {
                titre: "üß† Chapitre 13 (Partie 3/4)‚Äì La Pression Art√©rielle et sa R√©gulation : Le Contr√¥le Nerveux du C≈ìur",
                classe: "Terminale",
                icone: "fa-bolt",
                objectifs: [
                    "Comprendre le r√¥le des baror√©cepteurs et ch√©mor√©cepteurs",
                    "Identifier les centres nerveux r√©gulateurs dans le bulbe rachidien",
                    "Distinguer les nerfs sensitifs (Hering, Cyon, X) des nerfs moteurs"
                ],
                urlVid: "aHR0cHM6Ly9lZHVjYXRpb25zbnRlc3QtbXkuc2hhcmVwb2ludC5jb20vOnY6L2cvcGVyc29uYWwvc2lyZV9kZW1lX2VkdWNhdGlvbl9zbi9JUUF4VEhuSTdweUtSN1VwVDZCRld5N2pBVVd2azZuZHc5RDlHN3hpXzhoS2QyZz9lPXNIUVNCUw==",
                urlPdf: "aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xUkNjaHVTc0FhYmdBbkp3QjhtNGVpamZFTU9naUUybVEvdmlldz91c3A9ZHJpdmVfbGluaw=="
            },
            {
                titre: "Chapitre 13 (Partie 4/4) ‚Äì Pression Art√©rielle : Variations & M√©canismes de R√©gulation",
                classe: "Terminale",
                icone: "fa-chart-line",
                objectifs: [
                    "Analyser les diff√©rents facteurs de variation de la pression art√©rielle",
                    "Ma√Ætriser le principe de mesure avec le brassard et le st√©thoscope"
                ],
                urlVid: "aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1xMUpYNTYzOThBcw==",
                urlPdf: "aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xVWViSDVRNXRpRTZNa2gtWUVqMVFPY092Z19qTVZzcGUvdmlldz91c3A9ZHJpdmVfbGluaw=="
            },
            {
    titre: "üß¨ Le√ßon 14 : COMPOSITION ET R√îLES DU MILIEU INT√âRIEUR",
    classe: "Terminale",
    icone: "fa-heartbeat",
    objectifs: [
        "D√©finir clairement la notion de milieu int√©rieur selon Claude Bernard.",
        "Identifier les diff√©rents compartiments liquidiens de l‚Äôorganisme : sang, liquide interstitiel et lymphe.",
        "Distinguer le liquide intracellulaire du liquide extracellulaire.",
        "Comprendre la composition chimique du milieu int√©rieur (eau, sels min√©raux, prot√©ines, nutriments, d√©chets).",
        "Expliquer le r√¥le du milieu int√©rieur dans le transport de l‚Äôoxyg√®ne, des nutriments et des d√©chets.",
        "Comprendre le r√¥le du milieu int√©rieur dans la d√©fense immunitaire de l‚Äôorganisme.",
        "Montrer que le milieu int√©rieur est un milieu interm√©diaire indispensable entre les cellules et le sang.",
        "Relier le milieu int√©rieur √† la notion fondamentale d‚Äôhom√©ostasie."
    ],
    urlVid: "aHR0cHM6Ly95b3V0dS5iZS81OXc3WlJZNGdOWQ==",
    urlPdf: ""
},
            {
    titre: "‚öñÔ∏è Le√ßon 15 : R√âGULATION DE LA CONSTANCE DU MILIEU INT√âRIEUR (HOM√âOSTASIE)",
    classe: "Terminale",
    icone: "fa-balance-scale",
    objectifs: [
        "D√©finir la notion d‚Äôhom√©ostasie et expliquer son importance pour la survie des cellules.",
        "Montrer que le milieu int√©rieur subit des perturbations tout en conservant une stabilit√© relative.",
        "Identifier les variations du pH du milieu int√©rieur : acidose et alcalose.",
        "Expliquer les causes et les cons√©quences physiologiques de l‚Äôacidose et de l‚Äôalcalose.",
        "D√©crire le r√¥le des syst√®mes tampons biologiques dans la r√©gulation du pH sanguin.",
        "Expliquer la r√©gulation du pH par les reins et les poumons.",
        "D√©finir la pression osmotique du milieu int√©rieur et identifier son",
        "Expliquer le r√¥le de la diur√®se dans le maintien de la pression osmotique.",
        "Analyser les cons√©quences d‚Äôune augmentation ou d‚Äôune diminution de la pression osmotique sur les cellules.",
        "Expliquer la r√©gulation hormonale de la pression osmotique par l‚ÄôADH.",
        "Montrer le r√¥le de l‚Äôaldost√©rone dans la r√©gulation de la balance sodique.",
        "Conclure sur le r√¥le central des reins et des poumons dans le maintien de l‚Äôhom√©ostasie."
    ],
    urlVid: "aHR0cHM6Ly9lZHVjYXRpb25zbnRlc3QtbXkuc2hhcmVwb2ludC5jb20vOnY6L2cvcGVyc29uYWwvc2lyZV9kZW1lX2VkdWNhdGlvbl9zbi9JUUQ2UUpNdmtoYUhUWUlsSWNzWF94Z2ZBWW5jT01CTDNYbW14dTQzdFk4ZkdXMD9lPXZmYnpsQQ==",
    urlPdf: ""
},
      {
    titre: "üç¨ Le√ßon 16 : R√âGULATION DE LA GLYC√âMIE",
    classe: "Terminale",
    icone: "fa-tint",
    objectifs: [
        "D√©finir la glyc√©mie et donner sa valeur moyenne normale chez l‚ÄôHomme.",
        "Identifier les variations physiologiques de la glyc√©mie selon l‚Äôalimentation, le je√ªne et l‚Äôeffort physique.",
        "Distinguer hyperglyc√©mie et hypoglyc√©mie et pr√©ciser leurs causes.",
        "Mettre en √©vidence l‚Äôexistence d‚Äôune r√©gulation de la glyc√©mie √† partir d‚Äôexp√©riences physiologiques.",
        "Montrer le r√¥le essentiel du foie dans la r√©gulation de la glyc√©mie (glycog√©nogen√®se et glycog√©nolyse).",
        "Expliquer le r√¥le mod√©rateur des reins dans la r√©gulation de la glyc√©mie (glycosurie).",
        "D√©crire la structure du pancr√©as et distinguer ses fonctions endocrine et exocrine.",
        "Expliquer le r√¥le hypoglyc√©miant de l‚Äôinsuline et le r√¥le hyperglyc√©miant du glucagon.",
        "Montrer le caract√®re antagoniste de l‚Äôinsuline et du glucagon.",
        "Identifier les autres hormones hyperglyc√©miantes (adr√©naline, GH, ACTH).",
        "Expliquer la r√©gulation nerveuse de la glyc√©mie par les voies orthosympathique et parasympathique.",
        "Distinguer les deux formes de diab√®te : diab√®te insulino-d√©pendant et diab√®te insulino-r√©sistant.",
        "Conclure sur la glyc√©mie comme constante biologique essentielle de l‚Äôhom√©ostasie."
    ],
    urlVid: "",
    urlPdf: ""
},
            {
    titre: "üõ°Ô∏è Le√ßon 17 : LE SYST√àME IMMUNITAIRE",
    classe: "Terminale",
    icone: "fa-shield-virus",
    objectifs: [
        "D√©finir l‚Äôimmunologie, l‚Äôimmunit√© et le syst√®me immunitaire.",
        "Expliquer la notion d‚Äôint√©grit√© biologique de l‚Äôorganisme.",
        "Distinguer clairement le ¬´ soi ¬ª du ¬´ non soi ¬ª biologique √† partir d‚Äôexp√©riences de greffe.",
        "Identifier les marqueurs majeurs du soi (CMH/HLA) et pr√©ciser leurs r√¥les.",
        "Identifier les marqueurs mineurs du soi : groupes sanguins ABO et facteur Rh√©sus.",
        "Expliquer les caract√©ristiques des groupes sanguins et les ph√©nom√®nes d‚Äôagglutination.",
        "D√©finir la notion de non soi et donner des exemples d‚Äô√©l√©ments reconnus comme √©trangers.",
        "D√©finir les notions d‚Äôantig√®ne, d‚Äô√©pitope et d‚Äôanticorps.",
        "D√©finir l‚Äôimmunit√© et expliquer la n√©cessit√© de la reconnaissance du soi et du non soi.",
        "Distinguer l‚Äôimmunit√© naturelle de l‚Äôimmunit√© acquise.",
        "D√©crire les diff√©rentes barri√®res de l‚Äôimmunit√© naturelle (anatomiques, chimiques, biochimiques et √©cologiques).",
        "Distinguer immunit√© acquise active et immunit√© acquise passive.",
        "Identifier les organes du syst√®me immunitaire et pr√©ciser leurs r√¥les.",
        "Distinguer organes lympho√Ødes centraux et p√©riph√©riques.",
        "Identifier les principales cellules immunitaires et leur origine.",
        "D√©crire la maturation et l‚Äôimmunocomp√©tence des lymphocytes B et T.",
        "Conclure sur le r√¥le fondamental du syst√®me immunitaire dans la d√©fense et le maintien de l‚Äôint√©grit√© de l‚Äôorganisme."
    ],
    urlVid: "",
    urlPdf: ""
}

      

        ];

        const CONTACT_WA = "KzIyMTc2ODc3NjY2OA==";
        let isUserAuthenticated = false;
        let currentUserClass = null;

        window.onload = function() {
            renderCatalogue();
        };

        // --- FONCTIONS D'INTERFACE ---
        function showAuth() {
            toggleModal('auth-modal', true);
        }

        function toggleModal(id, show) {
            document.getElementById(id).classList.toggle('hidden', !show);
        }

        function renderCatalogue() {
            const grid = document.getElementById('courses-grid');
            grid.innerHTML = '';
            
            const coursAffiche = isUserAuthenticated 
                ? BD_COURS.filter(c => c.classe === currentUserClass)
                : BD_COURS;

            coursAffiche.forEach(cours => {
                const card = document.createElement('div');
                card.className = "glass rounded-3xl p-6 flex flex-col h-full animate-in relative overflow-hidden border border-white/5";
                
                if (!isUserAuthenticated) {
                    card.innerHTML += `<div class="lock-indicator" onclick="showAuth()"><i class="fas fa-lock text-sm"></i></div>`;
                }

                card.innerHTML += `
                    <div class="mb-4 flex justify-between items-center">
                        <div class="w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center text-emerald-500">
                            <i class="fas ${cours.icone}"></i>
                        </div>
                        <span class="text-[10px] font-bold px-2 py-1 bg-white/5 text-slate-400 rounded-md border border-white/10 uppercase tracking-widest">${cours.classe}</span>
                    </div>
                    
                    <h3 class="text-xl font-bold text-white mb-4 leading-snug">${cours.titre}</h3>
                    
                    <div class="mb-6">
                        <p class="text-emerald-500/80 text-[10px] font-black uppercase tracking-tighter mb-3">Objectifs Sp√©cifiques :</p>
                        <ul class="space-y-2">
                            ${cours.objectifs.map((obj, i) => `
                                <li class="text-slate-400 text-sm flex gap-3">
                                    <span class="text-emerald-500 font-bold font-mono">${i+1}.</span>
                                    <span>${obj}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <div class="mt-auto grid grid-cols-1 gap-3">
                        <button onclick="${isUserAuthenticated ? `window.open(atob('${cours.urlVid}'), '_blank')` : 'showAuth()'}" 
                            class="w-full py-3 bg-red-600/10 hover:bg-red-600 text-red-500 hover:text-white rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2 ${!isUserAuthenticated ? 'locked-action' : ''}">
                            <i class="fab fa-youtube"></i> VISIONNER LA VID√âO
                        </button>
                        <button onclick="${isUserAuthenticated ? `window.open(atob('${cours.urlPdf}'), '_blank')` : 'showAuth()'}" 
                            class="w-full py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2 ${!isUserAuthenticated ? 'locked-action' : ''}">
                            <i class="far fa-file-pdf"></i> T√âL√âCHARGER LE SUPPORT
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // --- LOGIQUE AUTHENTIFICATION ---
        async function hashValue(str) {
            const buffer = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));
            return Array.from(new Uint8Array(buffer)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function handleLogin() {
            const inputField = document.getElementById('access-input');
            const input = inputField.value.trim().toUpperCase();
            const unpaidBox = document.getElementById('unpaid-msg-box');
            const unknownBtn = document.getElementById('unknown-code-btn');
            const nameTarget = document.getElementById('unpaid-user-name');
            
            if (!input) return;

            const hashed = await hashValue(input);
            const eleve = BD_ELEVES[hashed];

            // Reset UI alerts
            unpaidBox.classList.add('hidden');
            unknownBtn.classList.add('hidden');

            if (eleve) {
                if (eleve.actif === 1) {
                    successLogin(eleve);
                } else {
                    // FONCTIONNALIT√â DEMAND√âE : Affichage du message de paiement
                    triggerError(inputField);
                    nameTarget.innerText = atob(eleve.nom);
                    unpaidBox.classList.remove('hidden');
                }
            } else {
                triggerError(inputField);
                unknownBtn.classList.remove('hidden');
            }
        }

        function triggerError(field) {
            field.classList.add('error-shake');
            setTimeout(() => field.classList.remove('error-shake'), 400);
        }

        function successLogin(eleve) {
            isUserAuthenticated = true;
            currentUserClass = eleve.classe;
            const nomClair = atob(eleve.nom);
            
            toggleModal('auth-modal', false);
            
            // Mise √† jour de l'UI
            document.getElementById('nav-guest').classList.add('hidden');
            document.getElementById('nav-info').classList.remove('hidden');
            document.getElementById('user-tag').innerText = eleve.classe;
            document.getElementById('header-welcome').innerHTML = `
                <h2 class="text-4xl font-black text-white mb-2">Bienvenue, ${nomClair}</h2>
                <p class="text-emerald-500 font-bold uppercase tracking-widest text-sm">Contenus pour la classe de ${eleve.classe}</p>
            `;

            renderCatalogue();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function sendReactivationRequest() {
            const code = document.getElementById('access-input').value.trim().toUpperCase();
            const msg = `Bonjour S√©n√©gal Acad√©mie, mon abonnement (${code}) est en attente de paiement. Je souhaite payer 500 FCFA via Wave pour l'activer.`;
            window.open(`https://wa.me/${atob(CONTACT_WA).replace('+', '')}?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function submitRequest() {
            const p = document.getElementById('reg-prenom').value;
            const n = document.getElementById('reg-nom').value;
            const c = document.getElementById('reg-classe').value;
            if(!p || !n || !c) return alert("Veuillez remplir tous les champs.");
            const msg = `Bonjour S√©n√©gal Acad√©mie, je suis ${p} ${n} en ${c}. Je souhaite commander un code d'acc√®s.`;
            window.open(`https://wa.me/${atob(CONTACT_WA).replace('+', '')}?text=${encodeURIComponent(msg)}`, '_blank');
            toggleModal('request-modal', false);
        }

        // S√©curit√©
        document.addEventListener('keydown', e => { if ((e.ctrlKey && ['s','u','i'].includes(e.key)) || e.key === 'F12') e.preventDefault(); });
    </script>
</body>
</html>













